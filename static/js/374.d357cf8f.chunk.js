"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[374],{7374:function(e,n,t){t.r(n),t.d(n,{Contacts:function(){return B},default:function(){return $}});var r=t(5048),a=t(5122),i=t(6150),c=t(5861),o=t(885),s=t(7757),u=t.n(s),l=t(2791),d=t(835),x=t(5264),h=t(7205),m=t(3793),f=t(21),p=t(6015),b=t(803),j=t(4565),Z=t(4360),v=t(7414),g=t(3329),w=(0,Z.Z)();function k(){var e=(0,l.useState)(""),n=(0,o.Z)(e,2),t=n[0],r=n[1],a=(0,l.useState)(""),s=(0,o.Z)(a,2),Z=s[0],k=s[1],y=(0,i.Jx)().data,C=(0,i.Tn)(),N=(0,o.Z)(C,2),L=N[0],W=N[1].isLoading,A=function(e){var n=e.currentTarget,t=n.name,a=n.value;switch(t){case"name":r(a);break;case"phone":k(a);break;default:return}},P=function(){r(""),k("")},T=function(){var e=(0,c.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!y){e.next=20;break}if(!y.some((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))){e.next=7;break}x.Notify.failure("".concat(t," is already in contacts")),e.next=17;break;case 7:return e.prev=7,e.next=10,L({name:t,number:Z});case 10:x.Notify.success("A new contact has been successfully created"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(7),console.log(Error),x.Notify.warning("Contact could not be saved");case 17:P(),e.next=31;break;case 20:return e.prev=20,e.next=23,L({name:t,number:Z});case 23:x.Notify.success("A new contact has been created"),e.next=30;break;case 26:e.prev=26,e.t1=e.catch(20),console.log(Error),x.Notify.warning("Contact could not be saved");case 30:P();case 31:case"end":return e.stop()}}),e,null,[[7,13],[20,26]])})));return function(n){return e.apply(this,arguments)}}();return(0,g.jsx)(v.Z,{theme:w,children:(0,g.jsxs)(b.Z,{component:"div",maxWidth:"xs",sx:{marginLeft:0,marginRight:0},children:[(0,g.jsx)(m.ZP,{}),(0,g.jsx)(j.Z,{component:"h1",variant:"h5",fontWeight:"bold",children:"PhoneBook"}),(0,g.jsx)(p.Z,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"start"},children:(0,g.jsxs)(p.Z,{component:"form",onSubmit:T,noValidate:!0,sx:{mt:1},children:[(0,g.jsxs)("label",{children:["Name",(0,g.jsx)(f.Z,{margin:"normal",width:"100%",id:"name",autoFocus:!0,type:"text",value:t,name:"name",onChange:A,required:!0})]}),(0,g.jsxs)("label",{children:["Number",(0,g.jsx)(f.Z,{margin:"normal",fullWidth:!0,id:"phone",autoComplete:"phone",autoFocus:!0,type:"tel",value:Z,name:"phone",onChange:A,required:!0})]}),(0,g.jsxs)(h.Z,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},className:"main_button",type:"submit",disabled:W,children:[W&&(0,g.jsx)(d.Z,{}),"Add contact"]})]})})]})})}var y=t(8254),C=t(5403),N=function(e){var n=e.id,t=e.value,r=e.onChange;return(0,g.jsxs)(p.Z,{sx:{width:500,maxWidth:"100%",padding:"20px 24px"},children:[(0,g.jsx)(j.Z,{component:"h1",variant:"h5",fontWeight:"bold",marginTop:"32px",marginBottom:"32px",children:"Contacts"}),(0,g.jsx)(f.Z,{InputProps:{startAdornment:(0,g.jsx)(y.Z,{position:"start",children:(0,g.jsx)(C.Z,{})})},fullWidth:!0,label:"Find contacts by name",id:n,type:"text",value:t,name:"filter",onChange:r})]})},L=t(5152),W=t(2087),A=t(9562),P=t(3506),T=t(4251),_=t(3811),D=t(7247),E=function(e){var n=e.id,t=e.name,s=e.number,l=(0,r.I0)(),d=(0,i.Nt)(),h=(0,o.Z)(d,2),m=h[0],f=h[1].isLoading,p=function(){var e=(0,c.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(n);case 3:x.Notify.success("The contact has been deleted"),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(Error),x.Notify.warning("Deletion error");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}();return(0,g.jsx)(W.ZP,{secondaryAction:(0,g.jsxs)(A.Z,{children:[(0,g.jsx)(L.Z,{title:"Edit",children:(0,g.jsx)(_.Z,{edge:"end","aria-label":"edit",onClick:function(){return function(e,n,t){l((0,a.$J)(!0)),l((0,a.$Z)({id:e,name:n,number:t}))}(n,t,s)},children:(0,g.jsx)(T.Z,{})})}),(0,g.jsx)(L.Z,{title:"Delete",children:(0,g.jsx)(_.Z,{edge:"end","aria-label":"delete",onClick:function(){return p(n)},disabled:f,children:(0,g.jsx)(D.Z,{})})})]}),children:(0,g.jsxs)(P.Z,{children:[t,":",(0,g.jsx)("span",{children:s})]})},n)},I=t(5629),F=t(5953),J=function(e){var n=e.contactArray;return(0,g.jsx)(p.Z,{sx:{flexGrow:1,maxWidth:500},paddingLeft:"8px",children:(0,g.jsx)(F.ZP,{children:(0,g.jsx)(F.ZP,{item:!0,xs:12,md:6,children:(0,g.jsx)(I.Z,{children:n.map((function(e){return(0,g.jsx)(E,{id:e.id,name:e.name,number:e.number})}))})})})})},S=t(5984),q=t(4834),B=function(){var e=(0,i.Jx)().data,n=(0,r.v9)((function(e){return e.filter})),t=(0,r.I0)(),c=(0,S.x0)(),o=function(){if(e){var t=n.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(t)}))}}();return(0,g.jsxs)(q.x,{as:"main",padding:"40px",children:[(0,g.jsx)(k,{}),(0,g.jsx)(N,{id:c,value:n,onChange:function(e){t((0,a.M6)(e.currentTarget.value))}}),e&&(0,g.jsx)(J,{contactArray:n?o:e})]})},$=B}}]);
//# sourceMappingURL=374.d357cf8f.chunk.js.map