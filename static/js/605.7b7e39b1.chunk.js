"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[605],{6605:function(e,n,t){t.r(n),t.d(n,{Contacts:function(){return V},default:function(){return H}});var r=t(5048),a=t(5122),i=t(6150),o=t(5861),s=t(885),c=t(7757),l=t.n(c),u=t(2791),d=t(835),m=t(5264),h=t(7205),p=t(3793),v=t(384),f=t(6015),x=t(803),b=t(4565),g=t(4360),Z=t(7414),j=t(3329),y=(0,g.Z)();function w(){var e=(0,u.useState)(""),n=(0,s.Z)(e,2),t=n[0],r=n[1],a=(0,u.useState)(""),c=(0,s.Z)(a,2),g=c[0],w=c[1],C=(0,i.Jx)().data,k=(0,i.Tn)(),N=(0,s.Z)(k,2),L=N[0],S=N[1].isLoading,E=function(e){var n=e.currentTarget,t=n.name,a=n.value;switch(t){case"name":r(a);break;case"phone":w(a);break;default:return}},P=function(){r(""),w("")},A=function(){var e=(0,o.Z)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!C){e.next=20;break}if(!C.some((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))){e.next=7;break}m.Notify.failure("".concat(t," is already in contacts")),e.next=17;break;case 7:return e.prev=7,e.next=10,L({name:t,number:g});case 10:m.Notify.success("A new contact has been successfully created"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(7),console.log(Error),m.Notify.warning("Contact could not be saved");case 17:P(),e.next=31;break;case 20:return e.prev=20,e.next=23,L({name:t,number:g});case 23:m.Notify.success("A new contact has been created"),e.next=30;break;case 26:e.prev=26,e.t1=e.catch(20),console.log(Error),m.Notify.warning("Contact could not be saved");case 30:P();case 31:case"end":return e.stop()}}),e,null,[[7,13],[20,26]])})));return function(n){return e.apply(this,arguments)}}();return(0,j.jsx)(Z.Z,{theme:y,children:(0,j.jsxs)(x.Z,{component:"main",maxWidth:"xs",sx:{marginLeft:0,marginRight:0},children:[(0,j.jsx)(p.ZP,{}),(0,j.jsx)(b.Z,{component:"h1",variant:"h5",fontWeight:"bold",children:"PhoneBook"}),(0,j.jsx)(f.Z,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"start"},children:(0,j.jsxs)(f.Z,{component:"form",onSubmit:A,noValidate:!0,sx:{mt:1},children:[(0,j.jsxs)("label",{children:["Name",(0,j.jsx)(v.Z,{margin:"normal",width:"100%",id:"name",autoFocus:!0,type:"text",value:t,name:"name",onChange:E,required:!0})]}),(0,j.jsxs)("label",{children:["Number",(0,j.jsx)(v.Z,{margin:"normal",fullWidth:!0,id:"phone",autoComplete:"phone",autoFocus:!0,type:"tel",value:g,name:"phone",onChange:E,required:!0})]}),(0,j.jsxs)(h.Z,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},className:"main_button",type:"submit",disabled:S,children:[S&&(0,j.jsx)(d.Z,{}),"Add contact"]})]})})]})})}var C=t(4942),k=t(1048),N=t(2793),L=t(8182),S=t(4419),E=t(9853),P=t(1211),A=t(529),T=t(277),I=t(1217);function z(e){return(0,I.Z)("MuiInputAdornment",e)}var W,_=(0,t(5878).Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),M=t(5513),R=["children","className","component","disablePointerEvents","disableTypography","position","variant"],D=(0,T.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n["position".concat((0,E.Z)(t.position))],!0===t.disablePointerEvents&&n.disablePointerEvents,n[t.variant]]}})((function(e){var n=e.theme,t=e.ownerState;return(0,N.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(n.vars||n).palette.action.active},"filled"===t.variant&&(0,C.Z)({},"&.".concat(_.positionStart,"&:not(.").concat(_.hiddenLabel,")"),{marginTop:16}),"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})})),F=u.forwardRef((function(e,n){var t=(0,M.Z)({props:e,name:"MuiInputAdornment"}),r=t.children,a=t.className,i=t.component,o=void 0===i?"div":i,s=t.disablePointerEvents,c=void 0!==s&&s,l=t.disableTypography,d=void 0!==l&&l,m=t.position,h=t.variant,p=(0,k.Z)(t,R),v=(0,A.Z)()||{},f=h;h&&v.variant,v&&!f&&(f=v.variant);var x=(0,N.Z)({},t,{hiddenLabel:v.hiddenLabel,size:v.size,disablePointerEvents:c,position:m,variant:f}),g=function(e){var n=e.classes,t=e.disablePointerEvents,r=e.hiddenLabel,a=e.position,i=e.size,o=e.variant,s={root:["root",t&&"disablePointerEvents",a&&"position".concat((0,E.Z)(a)),o,r&&"hiddenLabel",i&&"size".concat((0,E.Z)(i))]};return(0,S.Z)(s,z,n)}(x);return(0,j.jsx)(P.Z.Provider,{value:null,children:(0,j.jsx)(D,(0,N.Z)({as:o,ownerState:x,className:(0,L.Z)(g.root,a),ref:n},p,{children:"string"!==typeof r||d?(0,j.jsxs)(u.Fragment,{children:["start"===m?W||(W=(0,j.jsx)("span",{className:"notranslate",children:"\u200b"})):null,r]}):(0,j.jsx)(b.Z,{color:"text.secondary",children:r})}))})})),q=t(5403),B=function(e){var n=e.id,t=e.value,r=e.onChange;return(0,j.jsxs)(f.Z,{sx:{width:500,maxWidth:"100%",padding:"0 24px"},children:[(0,j.jsx)(b.Z,{component:"h1",variant:"h5",fontWeight:"bold",marginTop:"32px",marginBottom:"32px",children:"Contacts"}),(0,j.jsx)(v.Z,{InputProps:{startAdornment:(0,j.jsx)(F,{position:"start",children:(0,j.jsx)(q.Z,{})})},fullWidth:!0,label:"Find contacts by name",id:n,type:"text",value:t,name:"filter",onChange:r})]})},J=function(e){var n=e.id,t=e.name,r=e.number,a=(0,i.Nt)(),c=(0,s.Z)(a,2),u=c[0],h=c[1].isLoading,p=function(){var e=(0,o.Z)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(n);case 3:m.Notify.success("The contact has been deleted"),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(Error),m.Notify.warning("Deletion error");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}();return(0,j.jsx)("li",{children:(0,j.jsxs)("div",{className:"item_cont",children:[t,":",(0,j.jsx)("span",{children:r}),(0,j.jsxs)("button",{onClick:function(){return p(n)},disabled:h,children:[h&&(0,j.jsx)(d.Z,{}),"Delete"]})]})},n)},U=function(e){var n=e.contactArray;return(0,j.jsx)("ul",{children:n.map((function(e){return(0,j.jsx)(J,{id:e.id,name:e.name,number:e.number})}))})},V=function(){var e=(0,i.Jx)().data,n=(0,r.v9)((function(e){return e.filter})),t=(0,r.I0)(),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,n){return e+((n&=63)<36?n.toString(36):n<62?(n-26).toString(36).toUpperCase():n>62?"-":"_")}),"")}(),s=function(){if(e){var t=n.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(t)}))}}();return(0,j.jsxs)("div",{children:[(0,j.jsx)(w,{}),(0,j.jsx)(B,{id:o,value:n,onChange:function(e){t((0,a.M6)(e.currentTarget.value))}}),e&&(0,j.jsx)(U,{contactArray:n?s:e})]})},H=V},5403:function(e,n,t){var r=t(1941);n.Z=void 0;var a=r(t(5649)),i=t(3329),o=(0,a.default)((0,i.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");n.Z=o}}]);
//# sourceMappingURL=605.7b7e39b1.chunk.js.map