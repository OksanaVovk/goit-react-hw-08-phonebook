"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[605],{6605:function(n,e,t){t.r(e),t.d(e,{Contacts:function(){return V},default:function(){return H}});var r=t(5048),a=t(5122),i=t(6150),o=t(5861),s=t(885),c=t(7757),l=t.n(c),u=t(2791),d=t(835),m=t(5264),h=t(7205),p=t(3793),v=t(384),f=t(6015),x=t(803),b=t(4565),g=t(4360),Z=t(7414),j=t(3329),y=(0,g.Z)();function w(){var n=(0,u.useState)(""),e=(0,s.Z)(n,2),t=e[0],r=e[1],a=(0,u.useState)(""),c=(0,s.Z)(a,2),g=c[0],w=c[1],C=(0,i.Jx)().data,k=(0,i.Tn)(),E=(0,s.Z)(k,2),N=E[0],L=E[1].isLoading,S=function(n){var e=n.currentTarget,t=e.name,a=e.value;switch(t){case"name":r(a);break;case"phone":w(a);break;default:return}},P=function(){r(""),w("")},A=function(){var n=(0,o.Z)(l().mark((function n(e){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),!C){n.next=20;break}if(!C.some((function(n){return n.name.toLowerCase().includes(t.toLowerCase())}))){n.next=7;break}m.Notify.failure("".concat(t," is already in contacts")),n.next=17;break;case 7:return n.prev=7,n.next=10,N({name:t,number:g});case 10:m.Notify.success("A new contact has been successfully created"),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(7),console.log(Error),m.Notify.warning("Contact could not be saved");case 17:P(),n.next=31;break;case 20:return n.prev=20,n.next=23,N({name:t,number:g});case 23:m.Notify.success("A new contact has been created"),n.next=30;break;case 26:n.prev=26,n.t1=n.catch(20),console.log(Error),m.Notify.warning("Contact could not be saved");case 30:P();case 31:case"end":return n.stop()}}),n,null,[[7,13],[20,26]])})));return function(e){return n.apply(this,arguments)}}();return(0,j.jsx)(Z.Z,{theme:y,children:(0,j.jsxs)(x.Z,{component:"main",maxWidth:"xs",sx:{marginLeft:0,marginRight:0},children:[(0,j.jsx)(p.ZP,{}),(0,j.jsx)(b.Z,{component:"h1",variant:"h5",fontWeight:"bold",children:"PhoneBook"}),(0,j.jsx)(f.Z,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"start"},children:(0,j.jsxs)(f.Z,{component:"form",onSubmit:A,noValidate:!0,sx:{mt:1},children:[(0,j.jsxs)("label",{children:["Name",(0,j.jsx)(v.Z,{margin:"normal",width:"100%",id:"name",autoFocus:!0,type:"text",value:t,name:"name",onChange:S,required:!0})]}),(0,j.jsxs)("label",{children:["Number",(0,j.jsx)(v.Z,{margin:"normal",fullWidth:!0,id:"phone",autoComplete:"phone",autoFocus:!0,type:"tel",value:g,name:"phone",onChange:S,required:!0})]}),(0,j.jsxs)(h.Z,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},className:"main_button",type:"submit",disabled:L,children:[L&&(0,j.jsx)(d.Z,{}),"Add contact"]})]})})]})})}var C=t(4942),k=t(1048),E=t(2793),N=t(8182),L=t(4419),S=t(9853),P=t(1211),A=t(529),T=t(277),I=t(1217);function z(n){return(0,I.Z)("MuiInputAdornment",n)}var B,W=(0,t(5878).Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),_=t(5513),M=["children","className","component","disablePointerEvents","disableTypography","position","variant"],R=(0,T.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(n,e){var t=n.ownerState;return[e.root,e["position".concat((0,S.Z)(t.position))],!0===t.disablePointerEvents&&e.disablePointerEvents,e[t.variant]]}})((function(n){var e=n.theme,t=n.ownerState;return(0,E.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},"filled"===t.variant&&(0,C.Z)({},"&.".concat(W.positionStart,"&:not(.").concat(W.hiddenLabel,")"),{marginTop:16}),"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})})),D=u.forwardRef((function(n,e){var t=(0,_.Z)({props:n,name:"MuiInputAdornment"}),r=t.children,a=t.className,i=t.component,o=void 0===i?"div":i,s=t.disablePointerEvents,c=void 0!==s&&s,l=t.disableTypography,d=void 0!==l&&l,m=t.position,h=t.variant,p=(0,k.Z)(t,M),v=(0,A.Z)()||{},f=h;h&&v.variant,v&&!f&&(f=v.variant);var x=(0,E.Z)({},t,{hiddenLabel:v.hiddenLabel,size:v.size,disablePointerEvents:c,position:m,variant:f}),g=function(n){var e=n.classes,t=n.disablePointerEvents,r=n.hiddenLabel,a=n.position,i=n.size,o=n.variant,s={root:["root",t&&"disablePointerEvents",a&&"position".concat((0,S.Z)(a)),o,r&&"hiddenLabel",i&&"size".concat((0,S.Z)(i))]};return(0,L.Z)(s,z,e)}(x);return(0,j.jsx)(P.Z.Provider,{value:null,children:(0,j.jsx)(R,(0,E.Z)({as:o,ownerState:x,className:(0,N.Z)(g.root,a),ref:e},p,{children:"string"!==typeof r||d?(0,j.jsxs)(u.Fragment,{children:["start"===m?B||(B=(0,j.jsx)("span",{className:"notranslate",children:"\u200b"})):null,r]}):(0,j.jsx)(b.Z,{color:"text.secondary",children:r})}))})})),F=t(5403),q=function(n){var e=n.id,t=n.value,r=n.onChange;return(0,j.jsxs)(f.Z,{sx:{width:500,maxWidth:"100%",padding:"0 24px"},children:[(0,j.jsx)(b.Z,{component:"h1",variant:"h5",fontWeight:"bold",marginTop:"32px",marginBottom:"32px",children:"Contacts"}),(0,j.jsx)(v.Z,{InputProps:{startAdornment:(0,j.jsx)(D,{position:"start",children:(0,j.jsx)(F.Z,{})})},fullWidth:!0,label:"Find contacts by name",id:e,type:"text",value:t,name:"filter",onChange:r})]})},J=function(n){var e=n.id,t=n.name,r=n.number,a=n.onBtnEditClick,c=(0,i.Nt)(),u=(0,s.Z)(c,2),h=u[0],p=u[1].isLoading,v=function(){var n=(0,o.Z)(l().mark((function n(e){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,h(e);case 3:m.Notify.success("The contact has been deleted"),n.next=10;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(Error),m.Notify.warning("Deletion error");case 10:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}();return(0,j.jsx)("li",{children:(0,j.jsxs)("div",{className:"item_cont",children:[t,":",(0,j.jsx)("span",{children:r}),(0,j.jsxs)("button",{onClick:function(){return v(e)},disabled:p,children:[p&&(0,j.jsx)(d.Z,{}),"Delete"]}),(0,j.jsx)("button",{onClick:function(){return a(e,t,r)},children:"Edit"})]})},e)},U=function(n){var e=n.contactArray,t=n.onBtnEditCl;return(0,j.jsx)("ul",{children:e.map((function(n){return(0,j.jsx)(J,{id:n.id,name:n.name,number:n.number,onBtnEditClick:t})}))})},V=function(n){var e=n.onBtnEditC,t=(0,i.Jx)().data,o=(0,r.v9)((function(n){return n.filter})),s=(0,r.I0)(),c=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(n)).reduce((function(n,e){return n+((e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_")}),"")}(),l=function(){if(t){var n=o.toLowerCase();return t.filter((function(e){return e.name.toLowerCase().includes(n)}))}}();return(0,j.jsxs)("div",{children:[(0,j.jsx)(w,{}),(0,j.jsx)(q,{id:c,value:o,onChange:function(n){s((0,a.M6)(n.currentTarget.value))}}),t&&(0,j.jsx)(U,{contactArray:o?l:t,onBtnEditCl:e})]})},H=V},5403:function(n,e,t){var r=t(1941);e.Z=void 0;var a=r(t(5649)),i=t(3329),o=(0,a.default)((0,i.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");e.Z=o}}]);
//# sourceMappingURL=605.ce6b43aa.chunk.js.map